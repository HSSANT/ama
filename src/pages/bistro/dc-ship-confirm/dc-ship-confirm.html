<ion-header>
    <dc-header title="Confirmação" [showBackButton]="true" [showSearchBar]="false" [ionContent]="shipContent"></dc-header>
</ion-header>
<div class="fixed-top" id="ship-confirm-fixed-top">
    <div class="dc-step-group">
        <div class="step" *ngFor="let step of steps" [class.done]="step.isDone" [class.active]="step.active" [class.has-arrow]="step.hasArrow">
            <span class="step-number" [innerHTML]="step.isDone? checkedIcon : step.number"></span>
            <span class="step-title">{{step.title}}</span>
        </div>
    </div>
</div>
<ion-content id="ship-confirm-ion-content">
    <div class="dc-content" *ngIf="shipFoods.length > 0">
        <div class="form">
            <div class="item item-header">
                <ion-row>
                    <ion-col col-6>Nome</ion-col>
                    <ion-col col-3 text-center>Quantidade</ion-col>
                    <ion-col col-3 text-right>Preço</ion-col>
                </ion-row>
            </div>
            <div class="content">
                <div class="item" *ngFor="let food of shipFoods">
                    <ion-row>
                        <ion-col col-6>{{food.titleVie}}</ion-col>
                        <ion-col col-3 text-center><span class="dc-gray">{{food.quantily}}</span> </ion-col>
                        <ion-col col-3 text-right><span class="dc-price">{{(food.price * food.quantily).toLocaleString()}} </span> </ion-col>
                    </ion-row>
                </div>
            </div>
            <div class="item">
                <ion-row>
                    <ion-col col-6>Total</ion-col>
                    <ion-col col-3 text-center><span class="dc-gray">{{shipFoods.length}}</span></ion-col>
                    <ion-col col-3 text-right><span class="dc-price dc-bold">{{getTotalPrice()}} </span></ion-col>
                </ion-row>
            </div> 
            <div class="item">
                <ion-row>
                    <ion-col col-6>Desconto</ion-col>
                    <ion-col col-3 text-center> </ion-col>
                    <ion-col col-3 text-right><span [ngClass]="{'dc-price' : (discount.toLocaleString >0)}">{{discount.toLocaleString()}} </span></ion-col>
                </ion-row>
            </div>
            <div class="item">
                <ion-row>
                    <ion-col col-6>Taxa de Entrega</ion-col>
                    <ion-col col-3 text-center> <span class="dc-green">{{shipDistance}} km</span></ion-col>
                    <ion-col col-3 text-right><span class="dc-price">{{shipCost.toLocaleString()}} </span></ion-col>
                </ion-row>
            </div>
            <div class="item item-total">
                <ion-row>
                    <ion-col col-6>Total do Pedido</ion-col>
                    <ion-col col-3 text-center> </ion-col>
                    <ion-col col-3 text-right><span class="dc-price">{{totalPrice.toLocaleString()}} </span></ion-col>
                </ion-row>
            </div>
        </div>
        <div class="button-group">
            <button class="dc-button-outline" (click)="getBack()">Voltar</button>
            <button class="dc-button" (click)="continue()">Continuar</button>
        </div>
    </div>
    <div class="dc-content" *ngIf="shipFoods.length == 0">
        <div class=" dc-gray" padding text-center>
            Seu Carrinho Está Vazio
        </div>
        <div class="button-group">
            <button class="dc-button-outline" (click)="getBack()">Voltar</button>
        </div>
    </div>
</ion-content>